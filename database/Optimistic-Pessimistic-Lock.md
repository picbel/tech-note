### 비관적 락 Pessimistic Lock
트랜젝션이 충돌한다는 가정하는 lock입니다
하나의 트랜젝션이 자원에 접근시 락을 걸고 다른트랜잭션이 접근하지 못하게합니다
데이터베이스에서 Shared Lock(공유, 읽기 잠금) 이나 Exclusive Lock(배타, 쓰기 잠금) 을 겁니다
Shared Lock 의 경우, 다른 트랜잭션에서 읽기만 가능합니다. 또한 Exclusive lock 적용이 불가능
Exclusive lock 의 경우. 다른 트랜잭션에서 읽기, 쓰기가 둘다 불가능합니다. 또한 Shared, Exclusive Lock 적용이 추가적으로 불가능

장점
데이터의 무결성 보장에 특화
충돌이 자주 발생에도 무결성이 보장되서 롤백이 일어나지 않음

단점
읽기가 많이 일어나는 데이터에는 굉장한 성능 악영향이 있다
서로가 서로를 참조하는 경우 데드락 발생가능

---
### 낙관적 락 Optimistic Lock
트랜젝션이 충돌이 발생하지 않는 상황을 가정합니다
만약 발생한다면 그때가서 처리합니다(기준을 가지고 롤백)
DB단이 아닌 애플리케이션에서 주로 처리하게됩니다
(jpa에선 version을 이용하여 해당부분을 구현할 수 있습니다)

장점
충돌이 안낫을시 동시 요청에 대해서 처리 성능이 좋습니다.


단점
충돌이 난다면 롤백처리때문에 성능에 손해를 보게됩니다
추가로 롤백처리에 대한 구현이 필요합니다


낙관적락의 대표적인 문제 해결 예시는 바로 위키피디아 같은 위키 서비스이다.
위키서비스의 경우 읽기가 압도적으로 많지만 수정또한 동시에 일어날수 있다.
이럴때 수정시에도 읽기 가능하게하기위해 낙관적락으로 걸어서 수정을 관리합니다.
만약 수정시 트랜젝션이 충돌난다면 롤백을 하거나 해당부분의 처리르 하면 되고 그 과정에도 항상 읽기가 가능하기에 낙관적락이 가장 좋은 솔루션이다

(분산락으로 read,write lock을 구현하여도 해당문제르 해결 가능하다 이게 db자원에 좀 더 자유로운 장점이 있다)

